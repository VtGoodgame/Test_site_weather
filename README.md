# Тестовое задание 
### Описание
Для взаимодействия с API OpenWeather был получен авторизационный ключ, который хранится в `.env`-файле. В приложении он считывается с помощью функции `os.getenv` в файле констант (`consts.py`) и далее используется в основном модуле проекта.

Разработаны тесты с использованием библиотеки Pytest для проверки работоспособности основных эндпоинтов. Тестовые запросы отправляются через асинхронный клиент `httpx.AsyncClient` с использованием ASGI-транспорта, предоставленного FastAPI.

Создан веб-сайт, позволяющий пользователю ввести название города или его координаты (широту и долготу), после чего отображается прогноз погоды на ближайшие дни в выбранном месте. При вводе данных выполняется запрос к API OpenWeather, полученный ответ обрабатывается и выводится на странице.

Последние введённые пользователем данные сохраняются в cookie-файлах браузера. При повторном посещении сайта эти значения автоматически подставляются в поля формы. Если пользователь вводит новые данные, они имеют приоритет, а cookie обновляются.

В качестве серверной части использован фреймворк FastAPI, реализация выполнена на языке Python версии 3.12. Для работы с внешними HTTP-запросами применялись библиотеки `httpx` и `requests`.

Фронтенд реализован с использованием Vue.js версии 3. В JavaScript-логике описано взаимодействие с API: при нажатии кнопки "Поиск" формируется и отправляется запрос, а полученные данные отрисовываются на странице, включая отображение иконок погодных условий.

## Инструкция по запуску

# Установка (Windows)
- **1.Клонирование репозитория**
 ```git clone https://github.com/VtGoodgame/Test_site_weather.git```
- **2.Переход в директорию `backend`**
 ```cd .\backend\```
- **3.Создание виртуального окружения**
 ```python -m venv venv```
- **4.Активировать виртуальное окружение**
 ```.\venv\Scripts\activate```
- **5.Установить зависимости из файла `requirements.txt`**
 ```pip install -r requirements.txt```
- **6.Запуск сервера осуществляется с помощью команды**
 ```uvicorn main:app --reload```

**В отдельном терминале следует перейти в директорию `frontend`**
```cd .\frontend\```
- **1.Выполнить установку зависимостей через**
```npm install```
- **2.Запустить локальный сервер разработки командой**
```npm run serve```

После успешного запуска всех компонентов сайт становится доступен для  использования через браузер в локальной сети.

## Для создания и сборки Docker контейнера 
- **1.Переход в директорию `backend`**
 ```cd .\backend\```
- **2.Создать образ докер контейнера с помощью команды**
 ```docker build -t backend-app -f .Dockerfile .```
- **3.Выполнить сборку контейнера**
 ```docker run -d -p 8000:8000 --name backend-container backend-app```
- **4.Проверка запущенных контейнеров**
 ```docker ps```

_После проверки работоспособности следует выполнить команды_
- **1.Остановка работы контейнера**
 ```docker stop backend-container```
- **2.Удаление контейнера**
 ```docker rm backend-container```
- **3.Удаление образа **
 ```docker rmi backend-app```



